<script src="//maps.google.com/maps/api/js?v=3.18&sensor=false&client=&key=&libraries=geometry&language=&hl=&region="></script> 
<script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.9/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->

<br />
<div class="booyah-box col-xs-10 col-xs-offset-1">

<!--% if @location.latitude.present? && @location.longitude.present? %-->

  <div style='width: 800px;'>
    <div id="map" style='width: 800px; height: 400px;'></div>
  </div>

  <div id="foo" data-lat="<%= @locations.find(1).latitude%>"</div>
  <div id="foo1" data-long="<%= @locations.find(1).longitude%>"</div>
  <script type="text/javascript">
    var lat1 = $("#foo").data("lat");
    var long1 = $("#foo1").data("long");
    console.log(lat1);
    console.log(long1);
    handler = Gmaps.build('Google');
    handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
    markers = handler.addMarkers([
      {
       //"lat": 41.8783968,
       //"lng": -87.6171476,
       "lat" : lat1,
       "lng": long1,
       "picture": {
         "url": "http://people.mozilla.com/~faaborg/files/shiretoko/firefoxIcon/firefox-32.png",
          "width":  32,
          "height": 32
        },
        "infowindow": "hello!"
       }
    ]);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
  });
  </script>

</div>